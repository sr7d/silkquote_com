<!-- begin search -->
<div class="search">
  <div class="search__box">
    <div class="search__group">
      <div class="search__close">
        <i class="ion ion-md-close"></i>
      </div>
      <label for="js-search-input" class="screen-reader-text">Search for Blog</label>
      <input type="text" id="js-search-input" class="search__text" autocomplete="off" placeholder="Type to search...">
    </div>
    <div class="search-results-list" id="js-results-container"></div>
    <div class="search-suggestion">

      <div class="search-recent">
        <h3 class="search-suggestion__title">Recent content</h3>
        <div class="search-recent__inner">
          {% assign all_content = site.posts | concat: site.articles | sort: "date" | reverse %}
          {% for post in all_content limit:4 %}
          <div class="search-recent__item">
            {% if post.image %}
              <a class="search-recent__image" href="{{ post.url }}"><img class="lazy" data-src="{{site.baseurl}}{{post.image}}" alt="{{post.title}}"></a>
            {% endif %}
            <div class="search-recent__content">
              <div class="search-recent__meta">
                <time class="search-recent__date" datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date_to_string }}</time>
              </div>
              <h4 class="search-recent__title"><a href="{{ post.url }}">{{ post.title }}</a></h4>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>

      {% assign all_tags = "" %}
      {% for post in all_content %}
        {% for tag in post.tags %}
          {% unless all_tags contains tag %}
            {% if all_tags == "" %}
              {% assign all_tags = tag %}
            {% else %}
              {% assign all_tags = all_tags | append: "," | append: tag %}
            {% endif %}
          {% endunless %}
        {% endfor %}
      {% endfor %}
      {% assign search_tag_words = all_tags | split: "," | sort %}
      {% if search_tag_words.size >= 1 %}
      <div class="search-tags">
        <h3 class="search-suggestion__title">Topics</h3>
        <div class="search-tags__inner">
        {% for this_word in search_tag_words %}
          <a href="{{ site.baseurl }}/tags/?tag={{ this_word | cgi_escape }}" class="search-tag">{{ this_word }}</a>
        {% endfor %}
        </div>
      </div>
      {% endif %}

    </div>
  </div>
</div>
<!-- end search -->